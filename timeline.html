<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Nuestra l√≠nea del tiempo ‚ú®</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --ink:#1a1b26; --muted:#e9ecf6;
    --pink:#ffc8dd; --blue2:#a2d2ff;
    --panel:rgba(255,255,255,.08); --border:rgba(255,255,255,.22);
    --glow:0 18px 60px rgba(0,0,0,.45);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0}
  body{
    font-family:Poppins,system-ui,Segoe UI,Roboto,Arial,sans-serif;
    color:#fff; background: radial-gradient(1200px 600px at 50% -12%, #e2d9f3, #1a1b26);
    animation: sky 14s ease-in-out infinite alternate; padding:16px;
  }
  @keyframes sky{
    0%{background:radial-gradient(1200px 600px at 50% -12%, #e2d9f3, #1a1b26)}
    50%{background:radial-gradient(1200px 600px at 50% -12%, #ffc8dd, #171825)}
    100%{background:radial-gradient(1200px 600px at 50% -12%, #bde0fe, #14151f)}
  }
  header{max-width:1100px;margin:0 auto 12px;text-align:center}
  h1{margin:6px 0 2px; font-weight:900; font-size:clamp(1.5rem,5.2vw,2.4rem); text-shadow:0 2px 12px rgba(0,0,0,.35)}
  .sub{margin:0 0 12px; color:var(--muted)}

  .wrap{max-width:1100px;margin:0 auto; display:grid; gap:14px; grid-template-columns:1fr}
  @media(min-width:900px){ .wrap{grid-template-columns: 420px 1fr; align-items:start} }

  .panel{
    background:var(--panel); border:1px solid var(--border); border-radius:22px;
    box-shadow:var(--glow); backdrop-filter:blur(10px);
  }
  .left{padding:14px}
  .event{
    border:1px solid rgba(255,255,255,.18);
    border-radius:16px; padding:12px 12px 14px; margin:10px 0;
    background:rgba(255,255,255,.05);
    cursor:pointer; transition:.2s; position:relative;
  }
  .event:hover{transform:translateY(-2px)}
  .date{opacity:.85; font-size:.9rem; margin-bottom:4px}
  .title{font-weight:800}
  .excerpt{opacity:.95; margin-top:6px}
  .dot{
    position:absolute; right:-10px; top:14px; width:14px; height:14px; border-radius:50%;
    background:linear-gradient(135deg, var(--pink), var(--blue2)); box-shadow:0 0 0 4px rgba(255,255,255,.12);
  }

  .right{overflow:hidden}
  .viewer-head{
    display:flex; align-items:center; gap:10px; padding:12px 14px;
    border-bottom:1px solid rgba(255,255,255,.15)
  }
  .back{
    background:linear-gradient(135deg, var(--pink), var(--blue2));
    border:1px solid rgba(255,255,255,.4); color:#fff; font-weight:800;
    border-radius:999px; padding:8px 14px; text-decoration:none; box-shadow:0 10px 28px rgba(255,168,220,.35)
  }
  .viewer-body{padding:14px; min-height:300px}
  .viewer-title{margin:4px 0 2px; font-weight:900}
  .viewer-date{opacity:.85}
  .viewer-text{margin-top:10px; line-height:1.7}

  /* Galer√≠a */
  .gallery{margin-top:12px; display:grid; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:10px}
  .thumb{
    width:100%; aspect-ratio:4/3; object-fit:cover; border-radius:12px;
    box-shadow:0 10px 24px rgba(0,0,0,.35); cursor:pointer; transition:.2s
  }
  .thumb:hover{transform:translateY(-2px)}

  /* Lightbox */
  .lightbox{
    position:fixed; inset:0; background:rgba(0,0,0,.85); display:none; place-items:center; z-index:50;
  }
  .lightbox.open{display:grid}
  .lightbox img{max-width:92vw; max-height:86vh; border-radius:12px; box-shadow:0 20px 50px rgba(0,0,0,.6)}
  .close{
    position:fixed; top:14px; right:14px; background:rgba(255,255,255,.15); border:1px solid rgba(255,255,255,.6);
    color:#fff; font-weight:900; border-radius:999px; padding:8px 14px; cursor:pointer
  }

  /* Bot√≥n final */
  .footer{max-width:1100px; margin:18px auto 0; text-align:center}
  .cta{
    display:inline-block; margin-top:10px; padding:12px 20px; border-radius:14px; font-weight:900;
    color:#fff; text-decoration:none; letter-spacing:.2px;
    background:linear-gradient(135deg, var(--pink), var(--blue2));
    border:1px solid rgba(255,255,255,.6); box-shadow:0 14px 36px rgba(255,168,220,.35);
  }
  .cta:hover{transform:translateY(-2px)}
</style>
</head>
<body>
  <header>
    <h1>Nuestra l√≠nea del tiempo ‚ú®</h1>
    <p class="sub">Toca cada recuerdo para verlo completo.</p>
  </header>

  <main class="wrap">
    <!-- LISTA -->
    <section id="list" class="panel left"></section>

    <!-- VISOR -->
    <section class="panel right">
      <div class="viewer-head">
        <a class="back" href="./carta.html">Atr√°s</a>
        <div>
          <div id="vTitle" class="viewer-title">Selecciona un recuerdo</div>
          <div id="vDate" class="viewer-date">‚Äî</div>
        </div>
      </div>
      <div class="viewer-body">
        <div id="vText" class="viewer-text">Aqu√≠ ver√°s el texto completo y, si hay, sus fotitos. üíñ</div>
        <div id="gallery" class="gallery"></div>
      </div>
    </section>
  </main>

  <!-- Bot√≥n al FINAL para ir al regalo -->
  <div class="footer">
    <a class="cta" href="./regalo.html">üéÅ Ir a elegir mi regalo</a>
  </div>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox" aria-hidden="true">
    <img id="bigImg" alt="">
    <button class="close" onclick="closeLightbox()">Cerrar ‚úñ</button>
  </div>

<script>
/* ========= EDITA AQU√ç TUS RECUERDOS =========
   - Usa img: "ruta.jpg" para una imagen
   - o imgs: ["a.jpg","b.jpg"] para varias
   (Sube los archivos a /img/ o donde prefieras y actualiza las rutas) */
const timeline = [
  {
    date: "30 Jul 2024",
    title: "Mi primera carta para ti",
    text: `Recuerdo de la primera vez que te escribir una carta mi amor, estaba muy nervioso porque fue la primera vez que sent√≠ tantas ganas de amar a alguien.`,
    imgs: ["IMG-20250819-WA0029.jpg"]          // ‚Üê cambia por tus rutas
  },
  {
    date: "22 Jul 2024",
    title: "Tu primera carta para m√≠",
    text: `Esta fue la primera vez que me escribiste una carta, me lo escribiste poquito despues de que te pidiera ser mi novia, senti muy bonito al leerla y ame que nuestros sentimientos fueran mutuos.`,
    imgs: ["IMG-20250819-WA0024.jpg"]
  },
  {
    date: "12 May 2025",
    title: "La primera vez que nos vimos",
    text: `Este fue el dia mas feliz de mi vida, conoc√≠ al amor de mi vida y cuando te abrace me senti en el cielo, ame mucho ese dia porque porfin pude verte en persona y me enamore mucho mas de lo que ya estaba, me llev√© un recuerdo a mi casa y fue incre√≠ble que cumplimos esa primera meta.`,
    img: "IMG-20250819-WA0030.jpg"
  },
  {
    date: "20 Jul 2025",
    title: "Las primeras flores que te di",
    text: `Estas fueron las primeras flores que te di, estaba muy nervioso porque no sab√≠a como enviarte, no sab√≠a si te iban a gustar adem√°s que era la primera vez que enviaba algo a tu casa, espero que te hayan gustado porque se que en el futuro te dar√© muchas mas flores mi amor.`,
    imgs: ["IMG-20250819-WA0028.jpg"]
  },
  {
    date: "",
    title: "Tus cartas y dibujos",
    text: `amo cada detalle que me das, cada vez que demuestras tu amor y que dedicas de tu tiempo para escribirme algo bonito, amor cada dibujo, cada carta, todo de ti me vuelve¬†loco¬†mi¬†amor.`,
    imgs: ["IMG-20250814-WA0003.jpg","IMG-20250814-WA0005.jpg"]
  }
];

const $list = document.getElementById('list');
const $vTitle = document.getElementById('vTitle');
const $vDate  = document.getElementById('vDate');
const $vText  = document.getElementById('vText');
const $gallery= document.getElementById('gallery');

function renderList() {
  $list.innerHTML = "";
  timeline.forEach((ev, i) => {
    const card = document.createElement('article');
    card.className = 'event';
    card.innerHTML = `
      <div class="date">${ev.date || "Sin fecha"}</div>
      <div class="title">${ev.title}</div>
      <div class="excerpt">${sanitize(ev.text).split('\n')[0]}</div>
      <span class="dot"></span>
    `;
    card.addEventListener('click', () => openEvent(i));
    $list.appendChild(card);
  });
}

function openEvent(i){
  const ev = timeline[i];
  $vTitle.textContent = ev.title;
  $vDate.textContent  = ev.date || "Sin fecha";
  $vText.innerHTML    = sanitize(ev.text).replace(/\n/g, "<br>");

  // Render galer√≠a
  $gallery.innerHTML = "";
  const imgs = Array.isArray(ev.imgs) ? ev.imgs : (ev.img ? [ev.img] : []);
  imgs.forEach(src=>{
    const img = document.createElement('img');
    img.src = src; img.className = 'thumb'; img.alt = ev.title;
    img.addEventListener('click', ()=> openLightbox(src));
    $gallery.appendChild(img);
  });
}

function sanitize(str=""){
  return str.replace(/[&<>]/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;'}[s]));
}

/* Lightbox */
const $lightbox = document.getElementById('lightbox');
const $bigImg   = document.getElementById('bigImg');
function openLightbox(src){
  $bigImg.src = src;
  $lightbox.classList.add('open');
  $lightbox.setAttribute('aria-hidden','false');
}
function closeLightbox(){
  $lightbox.classList.remove('open');
  $lightbox.setAttribute('aria-hidden','true');
  $bigImg.src = "";
}
$lightbox.addEventListener('click', e=>{
  if(e.target === $lightbox) closeLightbox();
});

renderList();
</script>
</body>
</html>
