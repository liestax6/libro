<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Nuestra l√≠nea del tiempo ‚ú®</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --ink:#1a1b26; --muted:#e9ecf6;
    --pink:#ffc8dd; --purple:#cdb4db; --blue:#bde0fe; --blue2:#a2d2ff;
    --panel:rgba(255,255,255,.10); --border:rgba(255,255,255,.22);
    --glow:0 18px 60px rgba(0,0,0,.45);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0}
  body{
    font-family:Poppins,system-ui,Segoe UI,Roboto,Arial,sans-serif;
    color:#fff; background: radial-gradient(1200px 600px at 50% -12%, #e2d9f3, #1a1b26);
    animation: sky 14s ease-in-out infinite alternate;
    padding:16px;
  }
  @keyframes sky{
    0%{background:radial-gradient(1200px 600px at 50% -12%, #e2d9f3, #1a1b26)}
    50%{background:radial-gradient(1200px 600px at 50% -12%, #ffc8dd, #171825)}
    100%{background:radial-gradient(1200px 600px at 50% -12%, #bde0fe, #14151f)}
  }

  header{max-width:1100px;margin:0 auto 12px;text-align:center}
  h1{margin:6px 0 2px; font-weight:900; font-size:clamp(1.5rem,5.2vw,2.4rem); text-shadow:0 2px 12px rgba(0,0,0,.35)}
  .sub{margin:0 0 12px; color:var(--muted)}

  .wrap{max-width:1100px;margin:0 auto; display:grid; gap:14px; grid-template-columns: 1fr; }
  @media(min-width:900px){ .wrap{grid-template-columns: 420px 1fr; align-items:start} }

  .panel{
    background:var(--panel); border:1px solid var(--border); border-radius:22px;
    box-shadow:var(--glow); backdrop-filter:blur(10px);
  }
  .left{padding:14px}
  .event{
    border:1px solid rgba(255,255,255,.18);
    border-radius:16px; padding:12px 12px 14px; margin:10px 0;
    background:rgba(255,255,255,.06);
    cursor:pointer; transition:.2s; position:relative;
  }
  .event:hover{transform:translateY(-2px)}
  .date{opacity:.85; font-size:.9rem; margin-bottom:4px}
  .title{font-weight:800}
  .excerpt{opacity:.95; margin-top:6px}

  .dot{
    position:absolute; right:-10px; top:14px; width:14px; height:14px; border-radius:50%;
    background:linear-gradient(135deg, var(--pink), var(--blue2)); box-shadow:0 0 0 4px rgba(255,255,255,.12);
  }

  .right{padding:0; overflow:hidden}
  .viewer-head{
    display:flex; align-items:center; gap:10px; padding:12px 14px;
    border-bottom:1px solid rgba(255,255,255,.15)
  }
  .back{
    background:linear-gradient(135deg, var(--pink), var(--blue2));
    border:1px solid rgba(255,255,255,.4); color:#fff; font-weight:800;
    border-radius:999px; padding:8px 14px; text-decoration:none; box-shadow:0 10px 28px rgba(255,168,220,.35)
  }
  .viewer-body{padding:14px; min-height:300px}
  .viewer-title{margin:4px 0 2px; font-weight:900}
  .viewer-date{opacity:.85}
  .viewer-text{margin-top:10px; line-height:1.7; color:#fff}
  .viewer-img{
    display:block; max-width:100%; border-radius:14px; margin:10px auto 0; box-shadow:0 12px 30px rgba(0,0,0,.35)
  }

  /* Bot√≥n final para ir al regalo */
  .footer{
    max-width:1100px; margin:18px auto 0; text-align:center;
  }
  .cta{
    display:inline-block; margin-top:10px; padding:12px 20px; border-radius:14px; font-weight:900;
    color:#fff; text-decoration:none; letter-spacing:.2px;
    background:linear-gradient(135deg, var(--pink), var(--blue2));
    border:1px solid rgba(255,255,255,.6); box-shadow:0 14px 36px rgba(255,168,220,.35);
  }
  .cta:hover{transform:translateY(-2px)}
</style>
</head>
<body>
  <header>
    <h1>Nuestra l√≠nea del tiempo ‚ú®</h1>
    <p class="sub">Toca cada recuerdo para verlo completo.</p>
  </header>

  <main class="wrap">
    <!-- LISTA IZQUIERDA -->
    <section id="list" class="panel left"></section>

    <!-- VISOR DERECHO -->
    <section class="panel right">
      <div class="viewer-head">
        <a class="back" href="./carta.html">Atr√°s</a>
        <div>
          <div id="vTitle" class="viewer-title">Selecciona un recuerdo</div>
          <div id="vDate" class="viewer-date">‚Äî</div>
        </div>
      </div>
      <div class="viewer-body">
        <div id="vText" class="viewer-text">Aqu√≠ ver√°s el texto completo, sin cortes. üíñ</div>
        <img id="vImg" class="viewer-img" src="" alt="" style="display:none">
      </div>
    </section>
  </main>

  <!-- Bot√≥n al FINAL para ir a la p√°gina de regalos -->
  <div class="footer">
    <a class="cta" href="./regalo.html">üéÅ Ir a elegir mi regalo</a>
  </div>

<script>
/* ========= EDITA AQU√ç TUS RECUERDOS =========
   Puedes poner texto largo sin problema. Opcional: propiedad "img". */
const timeline = [
  {
    date: "30 Jul 2024",
    title: "Mi primera carta para ti",
    text: `La primera vez que te escrib√≠, con mil nervios y el coraz√≥n lleno.
    (Pega aqu√≠ tu texto completo si quieres).`
  },
  {
    date: "22 Jul 2024",
    title: "Tu primera carta para m√≠",
    text: `Ese mensaje tuyo que me hizo sentir elegido.
    (Pega aqu√≠ el texto completo o un resumen).`
  },
  {
    date: "12 May 2025",
    title: "La primera vez que nos vimos",
    text: `Ese d√≠a en que te tuve enfrente y todo se acomod√≥.
    (Pega aqu√≠ tu relato de ese momento).`
  },
  {
    date: "20 Jul 2025",
    title: "Las primeras flores que te di",
    text: `El primer ramo que te envi√©/entregu√© y lo que sent√≠ al hacerlo.
    (Pega aqu√≠ los detalles).`
  },
  {
    date: "", // sin fecha
    title: "Tus cartas y dibujos",
    text: `No tienen fecha porque llegan seguido. Gracias por cada detalle que me haces.
    (Puedes pegar algo m√°s aqu√≠).`
  }
];

const $list = document.getElementById('list');
const $vTitle = document.getElementById('vTitle');
const $vDate  = document.getElementById('vDate');
const $vText  = document.getElementById('vText');
const $vImg   = document.getElementById('vImg');

function renderList() {
  $list.innerHTML = "";
  timeline.forEach((ev, i) => {
    const card = document.createElement('article');
    card.className = 'event';
    card.innerHTML = `
      <div class="date">${ev.date || "Sin fecha"}</div>
      <div class="title">${ev.title}</div>
      <div class="excerpt">${sanitize(ev.text).split('\n')[0]}</div>
      <span class="dot"></span>
    `;
    card.addEventListener('click', () => openEvent(i));
    $list.appendChild(card);
  });
}

function openEvent(i){
  const ev = timeline[i];
  $vTitle.textContent = ev.title;
  $vDate.textContent = ev.date || "Sin fecha";
  $vText.innerHTML = sanitize(ev.text).replace(/\n/g, "<br>");
  if(ev.img){
    $vImg.src = ev.img;
    $vImg.style.display = 'block';
  } else {
    $vImg.style.display = 'none';
  }
}

// Evita que HTML incrustado rompa el layout
function sanitize(str=""){
  return str.replace(/[&<>]/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;'}[s]));
}

renderList();
</script>
</body>
</html>
