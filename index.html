<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Carta para ti ðŸ’–</title>
<style>
  :root{
    --ink:#1a1b26; --panel:rgba(255,255,255,.10); --border:rgba(255,255,255,.22);
    --muted:#eef1f7; --pink:#ffc8dd; --pink2:#ffafcc; --purple:#cdb4db; --blue:#bde0fe; --blue2:#a2d2ff;
  }
  html,body{height:100%;margin:0}
  body{
    font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Arial,sans-serif;
    color:#fff; background: radial-gradient(1200px 600px at 50% -12%, #e2d9f3, #1a1b26);
    animation: sky 14s ease-in-out infinite alternate; overflow-x:hidden
  }
  @keyframes sky{
    0%{background:radial-gradient(1200px 600px at 50% -12%, #e2d9f3, #1a1b26)}
    50%{background:radial-gradient(1200px 600px at 50% -12%, #ffc8dd, #171825)}
    100%{background:radial-gradient(1200px 600px at 50% -12%, #bde0fe, #14151f)}
  }
  .wrap{max-width:920px;margin:0 auto;padding:24px}
  header{
    text-align:center;margin:22px auto 16px;
    background:var(--panel); border:1px solid var(--border);
    backdrop-filter:blur(10px); box-shadow:0 24px 70px rgba(0,0,0,.35);
    border-radius:28px; padding:22px 18px;
  }
  .heart{
    width:120px;height:120px;margin:0 auto 8px;position:relative;transform:rotate(45deg);
    background: radial-gradient(circle at 30% 30%, #ffe6f0, var(--pink2) 60%);
    box-shadow:0 0 26px rgba(255,175,204,.7),0 0 80px rgba(255,175,204,.25);
    animation: beat 1.2s ease-in-out infinite;
  }
  .heart:before,.heart:after{content:"";position:absolute;width:120px;height:120px;border-radius:50%;background:inherit;left:-60px;top:0}
  .heart:after{left:0;top:-60px}
  @keyframes beat{0%,100%{transform:rotate(45deg) scale(1)}30%{transform:rotate(45deg) scale(1.06)}60%{transform:rotate(45deg) scale(1.12)}}
  h1{margin:0 0 6px;font-size:clamp(1.6rem,5vw,2.4rem);font-weight:900;text-shadow:0 2px 12px rgba(0,0,0,.35)}
  .type{min-height:28px;font-weight:700;color:#fff;text-shadow:0 1px 8px rgba(0,0,0,.35);letter-spacing:.3px}

  /* Tarjetas */
  .grid{display:grid;gap:16px;margin:18px 0;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
  .card{
    background:var(--panel);border:1px solid var(--border);border-radius:20px;padding:16px 14px;
    box-shadow:0 14px 40px rgba(0,0,0,.3);transition:.25s;position:relative;overflow:hidden
  }
  .card:hover{transform:translateY(-2px)}
  .card h3{margin:6px 0 6px;font-size:1.1rem}
  .open{display:inline-block;margin-top:8px;padding:10px 14px;border-radius:12px;background:#545a71;color:#e8ecfa;text-decoration:none;font-weight:700}
  .open[data-on="1"]{background:linear-gradient(135deg, var(--pink) 0%, var(--purple) 55%, var(--blue2) 100%);color:#fff;box-shadow:0 10px 28px rgba(255,168,220,.35)}
  .reveal{margin-top:10px;line-height:1.7;color:#f7f7ff;display:none}
  .reveal.show{display:block;animation:fade .35s ease}
  @keyframes fade{from{opacity:.2;transform:translateY(4px)}to{opacity:1;transform:none}}

  /* Quiz */
  .quiz{margin:10px 0}
  .btn{
    display:inline-block;padding:10px 14px;border-radius:12px;margin:6px;cursor:pointer;
    background:#545a71;color:#e8ecfa;border:none;font-weight:700;box-shadow:0 10px 24px rgba(0,0,0,.25)
  }
  .btn.good{background:linear-gradient(135deg, var(--pink) 0%, var(--purple) 55%, var(--blue2) 100%);color:#fff}

  /* Footer */
  footer{margin:18px 0 8px;text-align:center;color:#e9ecf5;opacity:.85}

  /* Corazones flotantes */
  .h{position:fixed;width:12px;height:12px;transform:rotate(45deg);background:#ffc8dd;box-shadow:0 0 8px rgba(255,200,221,.8);
     opacity:.95;z-index:0;animation:floatUp linear forwards}
  .h:before,.h:after{content:"";position:absolute;width:12px;height:12px;border-radius:50%;background:inherit;left:-6px;top:0}
  .h:after{left:0;top:-6px}
  @keyframes floatUp{0%{transform:translateY(0) rotate(45deg) scale(1);opacity:.95}100%{transform:translateY(-110vh) rotate(45deg) scale(1.2);opacity:0}}

  @media (prefers-reduced-motion:reduce){*{animation:none!important}}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="heart" aria-hidden="true"></div>
      <h1>Para ti, con todo mi amor</h1>
      <div id="type" class="type"></div>
    </header>

    <section class="grid">
      <!-- 1. Lo que amo de ti -->
      <article class="card">
        <h3>Lo que amo de ti</h3>
        <button class="open" data-id="r1">Abrir</button>
        <div id="r1" class="reveal">
          <p>
            Amo cÃ³mo me haces sentir en paz, tu forma de escucharme y esa risa que me salva el dÃ­a.
            Amo que seas tÃº, asÃ­, autÃ©ntica y brillante.
          </p>
        </div>
      </article>

      <!-- 2. Lo que deseo contigo -->
      <article class="card">
        <h3>Lo que deseo contigo</h3>
        <button class="open" data-id="r2">Abrir</button>
        <div id="r2" class="reveal">
          <p>
            Quiero un futuro contigo: abrazarte fuerte, cocinar juntos algo sencillo,
            ver una pelÃ­cula tomados de la mano y recordarnos cada dÃ­a por quÃ© nos elegimos.
          </p>
        </div>
      </article>

      <!-- 3. Mis promesas -->
      <article class="card">
        <h3>Mis promesas</h3>
        <button class="open" data-id="r3">Abrir</button>
        <div id="r3" class="reveal">
          <ul>
            <li>Cuidarte con hechos, no solo palabras.</li>
            <li>Escucharte de verdad y ser paciente.</li>
            <li>Hacerte sentir amada, segura y prioritaria.</li>
            <li>Construir, no pelear: elegirnos cada dÃ­a.</li>
          </ul>
        </div>
      </article>

      <!-- 4. Mini-quiz tierno -->
      <article class="card">
        <h3>Pregunta sincera</h3>
        <div class="quiz">
          <p>Â¿Me permites demostrarte con hechos que puedo ser mi mejor versiÃ³n contigo?</p>
          <button class="btn" id="nope">Mmmâ€¦ luego vemos</button>
          <button class="btn good" id="ok">SÃ­ ðŸ’—</button>
        </div>
        <div id="ans" class="reveal"></div>
      </article>
    </section>

    <footer>â€” Diego</footer>
  </div>

  <script>
    /* MÃ¡quina de escribir */
    const phrases = [
      "Gracias por existir.",
      "Te elijo hoy y siempre.",
      "Contigo quiero futuro."
    ];
    const box = document.getElementById('type');
    let i=0,j=0,del=false;
    function step(){
      const full = phrases[i%phrases.length];
      if(!del){ j++; box.textContent = full.slice(0,j) + " |";
        if(j===full.length){ del=true; return setTimeout(step,1200); }
      }else{ j--; box.textContent = full.slice(0,j) + (j?" |":"");
        if(j===0){ del=false; i++; }
      }
      setTimeout(step, del?45:80);
    }
    step();

    /* Abrir tarjetas */
    document.querySelectorAll('.open').forEach(b=>{
      b.addEventListener('click', ()=>{
        const id=b.dataset.id, r=document.getElementById(id);
        const on = r.classList.toggle('show');
        b.setAttribute('data-on', on? "1":"0");
        if(on) burstHearts(18);
      });
    });

    /* Quiz */
    const ans = document.getElementById('ans');
    document.getElementById('ok').addEventListener('click', ()=>{
      ans.classList.add('show');
      ans.innerHTML = "<p>Gracias por decir que sÃ­. Te prometo demostrarlo con hechos. ðŸ’ž</p>";
      burstHearts(40);
    });
    document.getElementById('nope').addEventListener('click', ()=>{
      ans.classList.add('show');
      ans.innerHTML = "<p>EstÃ¡ bien. Estoy aquÃ­, con paciencia y cariÃ±o. ðŸŒ·</p>";
      sprinkleHearts(10);
    });

    /* Corazones flotantes */
    function makeHeart(x,y,dur,color,size=12){
      const h=document.createElement("div");
      h.className="h";
      h.style.left=x+"vw"; h.style.top=y+"vh";
      h.style.width=h.style.height=size+"px";
      h.style.background=color;
      h.style.animationDuration=dur+"ms";
      document.body.appendChild(h);
      setTimeout(()=>h.remove(),dur);
    }
    function sprinkleHearts(count=8){
      const colors=["#ffc8dd","#ffafcc","#cdb4db","#bde0fe","#a2d2ff","#ffe3f0"];
      for(let k=0;k<count;k++){
        const x=Math.random()*100, y=100+Math.random()*20;
        const dur=5000+Math.random()*4500;
        const color=colors[Math.floor(Math.random()*colors.length)];
        const size=10+Math.random()*8;
        setTimeout(()=>makeHeart(x,y,dur,color,size), k*60);
      }
    }
    function burstHearts(n){ sprinkleHearts(n); }
    setInterval(()=>sprinkleHearts(6), 1400);
  </script>
</body>
</html>
